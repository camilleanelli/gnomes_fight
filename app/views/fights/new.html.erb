<%= render "layouts/menu" %>
<section class="page-section" id="services">
  <div class="container">
    <h1 class="text-center mt-0 font-weight-bold">START A NEW FIGHT</h1>
    <hr class="divider my-4">
    <%= form_for @fight do |f| %>
      <% if @fight.errors.any? %>
        <div id="error_explanation">
          <p><%= pluralize(@fight.errors.count, "error") %> prohibited this fight from starting !</p>
          <ul>
            <% @fight.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="row">
        <div class=" col-md-6 text-center">
          <div class="mt-5">
            <i class="fas fa-4x fa-gem text-primary mb-4"></i>
            <h3 class="h4 mb-2">Pick the first Gnome</h3>
            <p class="text-muted mb-0"></p>
            <div class="gnomes-list">
              <% Gnome.all.each do |gnome| %>
               <label data-value="1" for="fight_gnome1_id_<%= gnome.id %>">
                 <input type="radio" value="<%= gnome.id %>" name="fight[gnome1_id]" id="fight_gnome1_id_<%= gnome.id %>">
                 <% unless gnome.picture.blank?  %>
                   <%= image_tag gnome.picture, width: "80" %>
                 <% end %>
                 <%= gnome.name %>
               </label>
             <% end %>
            </div>
            <br>
            <div class="weapons_choice">
              <h4 class="h4 mb-2">Choose a weapon !</h4>
              <%= f.select :weapon_one_id, Weapon.all.collect { |p| [ p.name, p.id ] }, include_blank: true %>
            </div>
          </div>
        </div>
        <div class=" col-md-6 text-center">
          <div class="mt-5">
            <i class="fas fa-4x fa-laptop-code text-primary mb-4"></i>
            <h3 class="h4 mb-2">Pick the second Gnome</h3>
            <p class="text-muted mb-0"></p>
            <div class="gnomes-list">
              <% Gnome.all.each do |gnome| %>
                <label data-value="1" for="fight_gnome2_id_<%= gnome.id %>">
                  <input type="radio" value="<%= gnome.id %>" name="fight[gnome2_id]" id="fight_gnome2_id_<%= gnome.id %>">
                  <% unless gnome.picture.blank?  %>
                    <%= image_tag gnome.picture, width: "80" %>
                  <% end %>
                  <%= gnome.name %>
                </label>
              <% end %>
            </div>
            <br>
            <div class="weapons_choice">
              <h4 class="h4 mb-2">Choose a weapon !</h4>
              <%= f.select :weapon_two_id, Weapon.all.collect { |p| [ p.name, p.id ] }, include_blank: true %>
            </div>
          </div>
        </div>
      </div>

      <div class=" text-center">
        <%= f.submit "FIGHT !", class: "btn btn-primary btn-xl js-scroll-trigger" %>
      </div>
    <% end %>
  </div>
</section>
